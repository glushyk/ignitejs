<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
<meta charset="utf-8">
<style>

	.sale {
		position: absolute;
		left: 300px;
		top: 50%;
		width: 100px;
		height: 100px;
		margin: 0 auto;
		background-color: red;
		color: #fff;
		border: 1px solid #888;
		border-radius: 50%;
		text-align: center;
		line-height: 100px;
	}

</style>
<title>2</title> 
<!-- 

Создайте круг красного цвета с надписью "Скидка". Когда курсор пользователя будет приближаться к ней, "Скидка" должна от него "убегать", не давая пользователю нажать на красный круг. Если круг будет выйдет за одну из сторон экрана, то он должен, появится с противоположной стороны.

-->
</head> 
	
<body> 
<div class="sale">Скидка</div>
<script>
window.onload = function() {
	document.addEventListener('mousemove', function(e) {
		var sale = document.querySelector('.sale');
		var cursorPosX = e.clientX,
			cursorPosY = e.clientY,
			salePos = sale.getBoundingClientRect();
		console.log('x mouse = ' + cursorPosX);
		console.log('y mouse = ' + cursorPosY);
		console.log(salePos);

		var centerX = sale.offsetWidth/2,
			centerY = sale.offsetHeight/2;

		var saleCenterX = salePos.left + centerX,
			saleCenterY = salePos.top + centerY;

		var distance = Math.sqrt(Math.pow((saleCenterX - cursorPosX),2) + Math.pow((saleCenterY - cursorPosY),2));

		if (distance < 60) {
			if((saleCenterY > (salePos.top + sale.offsetHeight/3)) && (saleCenterY < (salePos.top + sale.offsetHeight*0.75)) && (saleCenterX < cursorPosX)) {
				//alert('catch')
				var distStep = 4;
				sale.style.left = cursorPosX - sale.offsetWidth - distStep +'px';
			}
			//alert('catch')
		}
		console.log(saleCenterX);
		console.log(saleCenterY);
		console.log(distance);
	})
	

}
</script>
</body>
</html>